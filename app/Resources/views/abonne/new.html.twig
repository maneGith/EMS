{% extends 'base.html.twig' %}

{% block body %}
    {{ include('includes/header.html.twig') }}

    <div id="container" style="border: solid 1px #d2d2d2;overflow-x: hidden;overflow-y:hidden">
        <div class="row">

            <div class="column column-left menu">
                <div class="menu-action">
                    {% if(is_granted('ROLE_DEXEMS')) %}
                        <div class="menu-action">
                            {{ include('includes/dex.html.twig') }}
                        </div>
                    {% elseif(is_granted('ROLE_CONTROLE')) %}
                        <div class="menu-action">
                            {{ include('includes/controle.html.twig') }}
                        </div>
                    {% elseif(is_granted('ROLE_RECOUVREMENT')) %}
                        <div class="menu-action">
                            {{ include('includes/recouvrement.html.twig') }}
                        </div>
                    {% else %}
                    {% endif %}
                </div>
            </div>
            <div class="column column-middle" style="background: #8E998F">

                <div id="wrapper">

                    <div class="titre-action">
                        <div style="border-top: solid 2px #337ab7;"></div>
                        <span style="font-weight: bold">Enregistrement d'un client abonné</span>
                    </div>


                    <div class="content-action">

                        {{ form_start(form) }}

                        <table style="width: 100%">
                            <tbody>
                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                            <span style="font-weight: bold">
                                              Nom :
                                            </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        {{ form_widget(form.nom,{'attr':{'class':'form-control',
                                            'style':'font-weight: bold;border:solid 1px #337ab7'}}) }}
                                        {{ form_errors(form.nom) }}
                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                            <span style="font-weight: bold">
                                              Civilité :
                                            </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        <div id="{{ form.civilite.vars.id }}">
                                            <table style="width: 100%">
                                                <tbody>
                                                <tr>

                                                    {% for civilite in form.civilite.children %}
                                                        <td>
                                                            <div class="radio">
                                                                <label class="required">

                                                                    {% if(civilite.vars.value=='Entreprise') %}
                                                                        <input id="{{ civilite.vars.id }}" name="{{ civilite.vars.full_name }}" required="required" value="{{ civilite.vars.value }}" type="radio" checked/>
                                                                    {% else %}
                                                                        <input id="{{ civilite.vars.id }}" name="{{ civilite.vars.full_name }}" required="required" value="{{ civilite.vars.value }}" type="radio"/>
                                                                    {% endif %}
                                                                    {{ civilite.vars.label }}
                                                                </label>
                                                            </div>
                                                        </td>

                                                    {% endfor %}

                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        {% do form.civilite.setRendered %}
                                    </div>

                                </td>
                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                                <span style="font-weight: bold">
                                                Téléphone :
                                                </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        {{ form_widget(form.telephone,{'attr':{'class':'form-control',
                                            'style':'font-weight: bold;border:solid 1px #337ab7'}}) }}
                                        {{ form_errors(form.telephone) }}
                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                                <span style="font-weight: bold">
                                                Numéro de compte :
                                                </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        {{ form_widget(form.numcompte,{'attr':{'class':'form-control',
                                            'style':'font-weight: bold;border:solid 1px #337ab7'}}) }}
                                        {{ form_errors(form.numcompte) }}
                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                                <span style="font-weight: bold">
                                               Email :
                                                </span>
                                    </div>
                                </td>
                                <td style="width: 50%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        {{ form_widget(form.email,{'attr':{'class':'form-control',
                                            'style':'font-weight: bold;border:solid 1px #337ab7'}}) }}
                                        {{ form_errors(form.email) }}
                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                                <span style="font-weight: bold">
                                               Adresse :
                                                </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        {{ form_widget(form.adresse,{'attr':{'class':'form-control',
                                            'style':'font-weight: bold;border:solid 1px #337ab7'}}) }}
                                        {{ form_errors(form.adresse) }}
                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                                <span style="font-weight: bold">
                                               Code postal :
                                                </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        {{ form_widget(form.codepostal,{'attr':{'class':'form-control',
                                            'style':'font-weight: bold;border:solid 1px #337ab7'}}) }}
                                        {{ form_errors(form.codepostal) }}
                                    </div>
                                </td>
                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                                <span style="font-weight: bold">
                                               Ville :
                                                </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        {{ form_widget(form.ville,{'attr':{'class':'form-control',
                                            'style':'font-weight: bold;border:solid 1px #337ab7'}}) }}
                                        {{ form_errors(form.ville) }}
                                    </div>
                                </td>

                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                            <span style="font-weight: bold">
                                              Etat :
                                            </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        <div id="{{ form.etat.vars.id }}">
                                            <table style="width: 100%">
                                                <tbody>
                                                <tr>

                                                    {% for etat in form.etat.children %}
                                                        <td>
                                                            <div class="radio">
                                                                <label class="required">

                                                                    {% if(etat.vars.value=='Maintenu') %}
                                                                        <input id="{{ etat.vars.id }}" name="{{ etat.vars.full_name }}" required="required" value="{{ etat.vars.value }}" type="radio" checked/>
                                                                    {% else %}
                                                                        <input id="{{ etat.vars.id }}" name="{{ etat.vars.full_name }}" required="required" value="{{ etat.vars.value }}" type="radio"/>
                                                                    {% endif %}
                                                                    {{ etat.vars.label }}
                                                                </label>
                                                            </div>
                                                        </td>

                                                    {% endfor %}

                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                        {% do form.etat.setRendered %}
                                    </div>

                                </td>
                            </tr>

                            <tr>
                                <td width="15%">
                                    <div style="padding-top: 15px;padding-right: 5px;padding-left: 5px;">
                                                <span style="font-weight: bold">
                                               Référence :
                                                </span>
                                    </div>
                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;max-width: 400px">
                                        {{ form_widget(form.type,{'attr':{'class':'form-control',
                                            'style':'font-weight: bold;border:solid 1px #337ab7'}}) }}
                                        {{ form_errors(form.type) }}
                                    </div>
                                </td>

                            </tr>

                            <tr>
                                <td style="width: 15%;">

                                </td>
                                <td style="width: 85%;">
                                    <div style="padding-top: 15px;padding-right: 5px;">
                                        <input type="submit" value="Ajouter" class="btn  btn-ems" />
                                        <a href="{{ path('abonne_index') }}" class="btn  btn-ems">
                                            Annuler
                                        </a>
                                    </div>
                                </td>
                                <td style="width: 25%;">

                                </td>
                            </tr>

                            </tbody>

                        </table>


                       {{ form_end(form) }}


                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
